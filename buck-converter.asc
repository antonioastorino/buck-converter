Version 4
SHEET 1 1764 1056
WIRE 96 176 48 176
WIRE 240 176 96 176
WIRE 448 176 240 176
WIRE 672 176 448 176
WIRE 880 176 672 176
WIRE 976 176 880 176
WIRE 1120 176 1072 176
WIRE 1168 176 1120 176
WIRE 1232 176 1168 176
WIRE 1360 176 1312 176
WIRE 1472 176 1360 176
WIRE 1488 176 1472 176
WIRE 1696 176 1488 176
WIRE 240 208 240 176
WIRE 448 208 448 176
WIRE 48 224 48 176
WIRE 1488 224 1488 176
WIRE 672 240 672 176
WIRE 1696 240 1696 176
WIRE 608 256 592 256
WIRE 640 256 608 256
WIRE 768 272 704 272
WIRE 880 272 880 256
WIRE 880 272 768 272
WIRE 1056 272 1056 224
WIRE 1056 272 880 272
WIRE 1168 272 1168 240
WIRE 1264 272 1168 272
WIRE 1360 272 1360 240
WIRE 1360 272 1264 272
WIRE 608 288 592 288
WIRE 640 288 608 288
WIRE 1264 304 1264 272
WIRE 448 320 448 288
WIRE 528 320 448 320
WIRE 1424 320 1392 320
WIRE 1488 320 1488 304
WIRE 1488 320 1424 320
WIRE 240 336 240 272
WIRE 608 400 528 400
WIRE 624 400 608 400
WIRE 1696 400 1696 320
WIRE 1696 400 1488 400
WIRE 448 512 448 384
WIRE 528 512 528 480
WIRE 528 512 448 512
WIRE 608 512 528 512
WIRE 1488 512 1488 400
WIRE 1488 512 608 512
WIRE 528 560 528 512
WIRE 528 688 528 640
WIRE 48 800 32 800
WIRE 80 800 48 800
WIRE 288 800 80 800
WIRE 48 880 -32 880
WIRE -32 912 -32 880
WIRE 288 912 288 800
WIRE 256 928 208 928
WIRE 400 944 320 944
WIRE 448 944 400 944
WIRE 192 960 48 960
WIRE 256 960 192 960
FLAG 48 304 0
FLAG 672 304 0
FLAG 768 272 Vdrive
FLAG 528 688 0
FLAG 1264 304 0
FLAG 1424 320 Vsense
FLAG 1120 176 Vswitch
FLAG 1472 176 Vout
FLAG 608 400 Vref
FLAG 240 336 0
FLAG 608 288 Vref
FLAG 608 256 Vsense
FLAG 96 176 Vsource
FLAG 48 1040 0
FLAG -32 976 0
FLAG 80 800 Vsource
FLAG 288 976 0
FLAG 400 944 Vdrive
FLAG 608 512 Asense
FLAG 208 928 Asense
FLAG 192 960 Aref
SYMBOL Voltage 48 208 R0
WINDOW 39 24 118 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName V1
SYMATTR Value PULSE(0 30 0 3ms 0 1s 1.1s 1)
SYMBOL Comparators/LT1716 672 272 R0
SYMATTR InstName U1
SYMBOL zener 464 384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N750
SYMBOL Res 432 192 R0
SYMATTR InstName R2
SYMATTR Value 25k
SYMBOL Res 512 304 R0
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL Res 512 384 R0
SYMATTR InstName R4
SYMATTR Value 80k
SYMBOL nmos 976 224 R270
SYMATTR InstName M1
SYMATTR Value AOTL66401
SYMBOL ind 1216 192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMATTR SpiceLine Ipk=1.4 Rser=127m Rpar=16.97K Cpar=1.698p mfg="   ---" pn="   ---"
SYMBOL cap 1344 176 R0
SYMATTR InstName C1
SYMATTR Value 470µ
SYMATTR SpiceLine Rser=0 Lser=0 mfg="   ---" pn="   ---" type="   ---"
SYMBOL schottky 1184 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL Res 1472 208 R0
SYMATTR InstName R6
SYMATTR Value 470k
SYMBOL Res 1472 304 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL Res 1680 224 R0
SYMATTR InstName R7
SYMATTR Value 20
SYMBOL Cap 224 208 R0
SYMATTR InstName C2
SYMATTR Value 1000µF
SYMBOL Res 864 160 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL Res 512 544 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL Comparators/LT1716 288 944 R0
SYMATTR InstName U2
SYMBOL Res 32 784 R0
SYMATTR InstName R9
SYMATTR Value 25k
SYMBOL schottky -16 976 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL Res 32 864 R0
SYMATTR InstName R10
SYMATTR Value 90k
SYMBOL Res 32 944 R0
SYMATTR InstName R11
SYMATTR Value 10k
TEXT 40 0 Left 2 !.tran 0 10ms 0s 0.001ms
